MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;***************************************************************
                      00002         ; PROGRAMA CONTROL DIFUSO DE TEMPERATURA
                      00003 
                      00004         ;title  "PIC Sample code: PIC16F88 program"
                      00005         ;subtitle       "CARLOS SANTIAGO CRUZ - "
                      00006 
                      00007 ;       codigo para el 16f88 a 4 MHz, RELOJ INTERNO RC
                      00008 ;***************************************************************
                      00009         list    p=16F88
                      00010         #include        <p16F88.inc>
                      00001         LIST
                      00002 ; P16F88.INC  Standard Header File, Version 1.00    Microchip Technology, Inc.
                      00401         LIST
                      00011         
                      00012 ;       __CONFIG        _CONFIG1 & _C21P_OFF & _CCP1_RB0 & _DEBUG_OFF & _CPD_OFF & _LVP_OFF & _BODEN_OFF
                             & _MCLR_ON & _PWRTE_ON & _WDT_OFF & _INTRC_IO
                      00013 ;*      ERRORLEVEL -302
                      00014 
                      00015 ;***************************************************************
                      00016 
  00000020            00017 z1                              equ     20h             ;REGISTROS COMODINES
  00000021            00018 z2                              equ     21h
  00000022            00019 z3                              equ     22h
  00000023            00020 z4                              equ     23h
                      00021 ;****************************************************************
  00000024            00022 UNI                             equ     24h
  00000025            00023 DECE                    equ     25h
  00000026            00024 SP                              equ     26h
  00000027            00025 uni_comodin             equ     27h
  00000028            00026 dece_comodin    equ     28h
  00000029            00027 STATUS_TEMP     equ 29h
  0000002A            00028 PCLATH_TEMP     equ 2Ah
  0000002B            00029 W_TEMP          equ     2Bh
                      00030 ;**************************************************
  0000002C            00031 BINARIO                 equ     2Ch
  0000002D            00032 CONTADOR1       equ 2Dh
  0000002E            00033 CONTADOR2       equ 2Eh
  0000002F            00034 CONTADOR3       equ 2Fh
                      00035 ;********************** 
  00000030            00036 BCDH                    equ 30h
  00000031            00037 BCDL                    equ 31h
  00000032            00038 BCD_TEMP                equ 32h
  00000033            00039 CUENTA          equ 33h
  00000034            00040 BIN                             equ 34h
  00000035            00041 BIN_comodin             equ 35h
                      00042 ;***************************************************************
                      00043 ; RECORDATORIO DE EN DONDE SE ENCUENGRAN ALGUNOS REGISTROS 
                      00044 ;       ADRESH  1Eh             banco 0
                      00045 ;       ADRESL  9Eh             banco 1
                      00046 ;       ANSEL           9Bh             banco 1
                      00047 ;       ADCON0  1Fh             banco 0
                      00048 ;       ADCON1  9Fh             banco 1
                      00049 ;****************************************************************
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00050 
                      00051 ;#######################################################################################################
                            ############################
0000                  00052                                                         ORG             0x0000
0000   2805           00053                                                         GOTO            INICIO
                      00054         
0004                  00055                                                         ORG             0x04
0004   284B           00056                                                         GOTO            SP_INTERRUPT
                      00057 
0005                  00058                                                         ORG             0x05
                      00059 ;#######################################################################################################
                            ############################
                      00060 
                      00061 
0005                  00062 INICIO                                          ; Limpia todos los registros a usar
                      00063         
0005   0185           00064                                                         CLRF            PORTA                           
                                                    ; limpia puerto A
0006   0186           00065                                                         CLRF            PORTB                           
                                                    ; limpia puerto B
0007   01A0           00066                                                         CLRF            z1                              
                                    
0008   01A1           00067                                                         CLRF            z2                              
0009   01A2           00068                                                         CLRF            z3                              
000A   01A3           00069                                                         CLRF            z4                              
                      00070                                                         ;***********************************************
                            *****************
000B   01A4           00071                                                         CLRF            UNI                             
000C   01A5           00072                                                         CLRF            DECE                    
000D   01A6           00073                                                         CLRF            SP                              
000E   01A7           00074                                                         CLRF            uni_comodin             
000F   01A8           00075                                                         CLRF            dece_comodin    
0010   01A9           00076                                                         CLRF            STATUS_TEMP     
0011   01AA           00077                                                         CLRF            PCLATH_TEMP     
0012   01AB           00078                                                         CLRF            W_TEMP          
                      00079                                                         ;***********************************************
                            ***
0013   01AC           00080                                                         CLRF            BINARIO                 
0014   01AD           00081                                                         CLRF            CONTADOR1       
0015   01AE           00082                                                         CLRF            CONTADOR2       
0016   01AF           00083                                                         CLRF            CONTADOR3       
                      00084                                                         ;********************** 
0017   01B0           00085                                                         CLRF            BCDH                    
0018   01B1           00086                                                         CLRF            BCDL                    
0019   01B2           00087                                                         CLRF            BCD_TEMP                
001A   01B3           00088                                                         CLRF            CUENTA          
001B   01B4           00089                                                         CLRF            BIN                             
001C   01B5           00090                                                         CLRF            BIN_comodin                     
                                                            
                      00091                                                         ;-----------------------------------------------
                            ------------------------------------------------------------------------------------------------
001D   1683           00092                                                         BSF             STATUS,RP0                      
                                            ; selecciona Banco 1; Se encuentran registros TRISA y TRISB
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

001E   1303           00093                                                         BCF             STATUS,RP1                      
                                            ; al reset STATUS=00000000
                      00094                                                                                                         
                                                                    ; REGISTRO STATUS =     IRP             RP1             
                      00095                                                                                                         
                                                                    ;  RP1 RP0
                      00096                                                                                                         
                                                                    ;  0            0               banco 0
                      00097                                                                                                         
                                                                    ;  0            1               banco 1         RP0=1
                      00098                                                                                                         
                                                                    ;  1            0               banco 2
                      00099                                                                                                         
                                                                    ;  1            1               banco 3
                      00100 
                      00101 
                      00102 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
001F   170F           00103                                                         BSF             OSCCON,6                        
                                                    ;Pone el oscilador a 4 MHz con el oscilador interno RC; OSCCON controla 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0020   168F           00104                                                         BSF             OSCCON,5                        
                                                    ;bit 6-4                110             4 MHZ
                      00105                                                                                                         
                                                                    ;al reset inicia con 0's el registro.
                      00106                                                         ;-----------------------------------------------
                            ------------------------------------------------------------------------------------------------
0021   3007           00107                                                         MOVLW           H'07'                           
                                                    ;carga el registro W con 07             0000 0111
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0022   009C           00108                                                         MOVWF           CMCON                           
                                                    ;CMCON ->       C2OUT   C1OUT   C2INV   C1INV   CIS      CM2  CM1  CM0
                      00109                                                                                                         
                                                                    ; ver los modos de operacion de los comparadores
                      00110                                                                                                         
                                                                    ; comparadores apagados
                      00111                                                                                                         
                                                                    ;CLRF           TRISA                   ;Puerto A como s
                      00112 
                      00113 ;##### CONFIGURA LOS PUERTOS  A y B, (A0,A1,A2,A3 = ENTRADAS)  (A4,A5,A6,A7=SALIDAS),  (B0,B1,B2,B3 = EN
                            TRADAS)  (B4,B5,B6,B7=SALIDAS) ##################
0023   1683           00114                                                         BSF             STATUS,RP0                      
                                            ; cambio a banco 1
                      00115                                                         
0024   30BD           00116                                                         MOVLW           B'10111101'                     
                                                    ; RA7   RA6             RA5             RA4             RA3             
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0025   0085           00117                                                         MOVWF           TRISA                           
                                                    ;    1            0               1               1               1     
                      00118                                                                                                         
                                                                    ;Puerto A como salida           0 - salida;     1 - entr
0026   3001           00119                                                         MOVLW           B'00000001'                     
                                                    ; RA7   RA6             RA5             RA4             RA3             
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0027   0086           00120                                                         MOVWF           TRISB                           
                                                    ;    0            0               0               0               0     
                      00121 
                      00122                                                         
                      00123 
                      00124 ;########################################## CONFIGURANDO EL CONVERTIDOR A/D ############################
                            ##############################
                      00125 
                      00126                                                                                                         
                                            ;1.     Configure el modulo A/D
                      00127                                                                                                         
                                            ;               •       Configurar E/S analógica/digital        (ANSEL) BANCO 1 
0028   1683           00128                                                         BSF             STATUS,RP0              ; selecc
                            iona banco 1
                      00129                                                         
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0029   141B           00130                                                         BSF                     ANSEL,0         ; Regist
                            ro ANSEL - ANS6 ANS5 ANS4 ANS3 ANS2 ANS1 ANS0 
                      00131                                                                                                         
                                            ; banco 1
                      00132                                                                                                         
                                            ; Configura la funcion de los pines de los puertos
                      00133                                                                                                         
                                            ; pueden ser configurados como entradas analògicas 
                      00134                                                                                                         
                                            ; (RA3,RA2 tambien pueden ser tensiones de referencia)
                      00135                                                                                                         
                                            ; o como entradas/salidas digitales; 
                      00136                                                                                                         
                                            ;       1 - analog I/O; 
                      00137                                                                                                         
                                            ;       0 - digital I/O
                      00138                                                                                                         
                                            ; 
                      00139                                                                                                         
                                            ;-------------------------------------------------------------------------------
002A   1683           00140                                                         BSF                     STATUS,RP0      ;       
                            (selecciona banco 1)                                                                            
                      00141                                                                                                         
                                            ;               •       Configurar tensión de referencia.       (ADCON1)        
                      00142 
                      00143                                                                                                         
                                            ; ADCON1:       ADFM    ADCS2   VCFG1           VCFG0     --      --      --    
                      00144                                                                                                         
                                            ; Bit 7 ADFM: selección de bit de resultado de formato A/D
                      00145                                                                                                         
                                            ;                               1=justificación derecha: los seis bits mas signi
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002B   179F           00146                                                         BSF                     ADCON1,7                
                            ;                               0=justificación izquierda: los seis bits menos significativos de
                      00147                                                                                                         
                                            ; Bit 6 ADSC2: bit de selección de división de reloj por 2 del A/D
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00148                                                                                                         
                                            ;                               1=fuente de reloj es dividida por 2 cuando el si
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002C   131F           00149                                                         BCF                     ADCON1,6                
                            ;                               0=deshabilitado.                                                
                      00150                                                                                                         
                                            ; Bit 5-4       VCFG <1:0> bits de configuración de las tensiones de referencia 
                      00151                                                                                                         
                                            ;                               Estado lógico           VREF+ VREF- 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002D   129F           00152                                                         BCF                     ADCON1,5                
                            ;                               00                              AVDD  AVSS              *Elegimo
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002E   121F           00153                                                         BCF                     ADCON1,4                
                            ;                               01                              AVDD   VREF-
                      00154                                                                                                         
                                            ;                               10                              VREF+   AVSS
                      00155                                                                                                         
                                            ;                               11                              VREF+   VREF-
                      00156                                                                                                         
                                            ; Bit  3-0      Sin implementación leídos como ‘0’
                      00157 
                      00158                                                                                                         
                                            ;primero vamos a poner el ADSC2=0, pero creo que en el reset es 0 :)            
                      00159                                                                                                         
                                            ;-------------------------------------------------------------------------------
002F   1283           00160                                                         BCF             STATUS,RP0              ; selecc
                            iona banco 0
                      00161                                                                                                         
                                            ; ADCON0:       ADSC1   ADCS0   CHS2    CHS1    CHS0    DO/DONE --      ADON
                      00162                                                                                                         
                                            ;                               1               1          0             0      
0030   179F           00163                                                         BSF             ADCON0,7                        
                            ;Bit 7-6        ADSC<1:0> selección de bits del reloj de conversión
0031   171F           00164                                                         BSF             ADCON0,6                        
                            ;       If ADSC2=0
                      00165                                                                                                         
                                            ;               00 Fosc/2
                      00166                                                                                                         
                                            ;               01 Fosc/8
                      00167                                                                                                         
                                            ;               10 Fosc/32
                      00168                                                                                                         
                                            ;               11 FRC (reloj derivado del oscilador interno RC del modulo A/D) 
                      00169                                                                                                         
                                            ;       if ADSC2=1
                      00170                                                                                                         
                                            ;               00 Fosc/4
                      00171                                                                                                         
                                            ;               01 Fosc/16
                      00172                                                                                                         
                                            ;               10 Fosc/64
                      00173                                                                                                         
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                                            ;               11 FRC (reloj derivado del oscilador interno RC del modulo A/D) 
0032   129F           00174                                                         BCF             ADCON0,5                        
                            ;Bit 5-3        CHS <2:0> selección de bits para los canales analógicos
0033   121F           00175                                                         BCF             ADCON0,4                        
                            ;               000 canal 0 (RA0/AN0)
0034   119F           00176                                                         BCF             ADCON0,3                        
                            ;               001 canal 1 (RA1/AN1)
                      00177                                                                                                         
                                            ;               010 canal 2 (RA2/AN2)
                      00178                                                                                                         
                                            ;               011 canal 3 (RA3/AN3)
                      00179                                                                                                         
                                            ;               100 canal 4 (RA4/AN4)
                      00180                                                                                                         
                                            ;               101 canal 5 (RB6/AN5)
                      00181                                                                                                         
                                            ;               110 canal 6 (RB7/AN6)
                      00182                                                         ;(utilizados en prog princ)                     
                            ;Bit 2  GO/DONE_ bit de estado de la conversión (A/D)
                      00183                                                                                                         
                                            ;               If ADON=1
                      00184                                                                                                         
                                            ;                                       1=la conversión esta en progreso (ponien
                      00185                                                                                                         
                                            ;                                       0=la conversión no esta en progreso (est
                      00186                                                                                                         
                                            ;Bit 1  Sin implementar: leído como ‘0’
                      00187                                                         ;(utilizado en prog princ)                      
                            ;Bit 0  ADON: bit de encendido del A/D
                      00188                                                                                                         
                                            ;                                       1=modulo convertidor A/D esta operando
                      00189                                                                                                         
                                            ;                                       0=modulo convertidor esta apagado y no c
                      00190         
                      00191                 ;hecho arriba                                                                           
                                    ;               •       Seleccionar reloj de conversión A/D     (ADCON0)
                      00192 ;#######################################################################################################
                            ##############################
                      00193 ;############################### CONFIGURAR FLANCO DE SUBIDA PARA INTERRUPCION EXTERNA POR PIN RB0 #####
                            ##########################
                      00194 
0035   1683           00195                                                         BSF             STATUS,RP0                      
                                            ; selecciona banco 1
0036   1303           00196                                                         BCF             STATUS,RP1                      
                                            ; selecciona banco 1
                      00197                 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0037   1701           00198                                                         BSF             OPTION_REG,6                    
                                            ; activa por flanco de subida, bit INTEDG
                      00199 
                      00200 ;#######################################################################################################
                            ##############################
                      00201 ;################################################# HABILITACION DE INTERRUPCIONES ######################
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            #####################################################
                      00202                                                         
0038   160B           00203                                                         BSF             INTCON, 4                       
                                            ; que sea interrupcion externa por RB0, bit INTE bit 4
0039   178B           00204                                                         BSF             INTCON, 7                       
                                    ; habilitamos interrupcion global GIE bit 7
                      00205 
                      00206 ;#######################################################################################################
                            ####################################
                      00207 
                      00208 ;################################# EMPIEZA LA CONVERSION #############################
003A   1283           00209                         BCF             STATUS, RP0             ; cambio al banco 0
003B   1303           00210                         BCF             STATUS,RP1              ;cambio a banco 0
                      00211                         
003C   141F           00212                         BSF             ADCON0,0                        ;               •       Encienda
                             el modulo A/D  (ADCON0)        (biit cero)
                      00213                                                                                         ;2.     Configur
                            ar interrupción A/D (si se desea)
                      00214                                                                                         ;               
                            •       Poner a ‘0’ bit ADIF
                      00215                         ;no deseamos                                    ;               •       Poner a 
                            ‘1’ bit ADIE
                      00216                                                                                         ;               
                            •       Poner a ‘1’ bit PEIE
                      00217                                                                                         ;               
                            •       Poner a ‘1’ bit GIE
003D   204A           00218 REG             CALL            RETRASO                 ;3.     Esperar el tiempo de adquisición requeri
                            do
                      00219                                                                                         ;4.     Empezar 
                            conversión.
003E   151F           00220                         BSF             ADCON0,2                        ;               •       Poner a 
                            ‘1’ bit GO/DONE_ (ADCON0)
003F   191F           00221 ESP             BTFSC           ADCON0,2                        ;5.     Esperar para completar la conver
                            sión A/D, por cualquiera de los siguientes:
0040   283F           00222                         GOTO            ESP                             ;               •       Poleando
                             (modo poleo o de ciclo) para que el bit GO/DONE_ sea puesto a ‘0’ (con interrupción deshabilita
                      00223                                                                                         ;               
                            •       Esperando por interrupción de A/D
                      00224                                                                                         ;6.     Leer el 
                            registro par que da el resultado de la conversión. (ADRESH:ADRESL); en este caso nos mostrara lo
                      00225                         
                      00226                                                                                         ;               
                            •       Poner a ‘0’ bit ADIF si es requerido.
                      00227                                                 
                      00228                                                                                         ;7.     Para la 
                            siguiente conversión, vaya a los pasos 1 o paso 2 como sea requerido. El tiempo de conversión po
                      00229                                                                                         ; regresa por ot
                            ra conversion
                      00230 
0041   1683           00231                         BSF             STATUS, RP0             ; cambio al banco 1
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0042   081E           00232                         MOVF            ADRESL,0                        ;mueve el registro ADRESL al reg
                            istro W
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0043   1283           00233                         BCF             STATUS,RP0              ;cambia al banco 0
0044   00B5           00234                         MOVWF           BIN_comodin                     ; salva el numero binario en BIN
                            _comodin
0045   00B4           00235                         MOVWF           BIN                                     ; salva el numero binari
                            o en BIN
0046   20CF           00236                         CALL            BIN2BCD_RS3             ; llama a la subrutina de conversion de 
                            BINARIO A BCD
                      00237                                                                                         ; en el registro
                             BCDL se encuentran (NIBBLE decenas)(NIBBLE UNIDADES), necesitamos desplegarlo en el display 7 s
0047   20F5           00238                         CALL            desplegar_bin_bcd                                               
                                                                            
                      00239 
                      00240 
0048   204A           00241                         CALL            RETRASO
0049   283D           00242                         GOTO            REG
                      00243 ;***************************************************************;***************************************
                            ************************;***************************************************************;*******
                      00244 ;*************Retraso **************************************************
                      00245 
004A                  00246 RETRASO                 ;MOVLW                  D'3'
                      00247                                         ;MOVWF          z3
                      00248                                         ;MOVLW          D'137'
                      00249                                         ;MOVWF          z2
                      00250                                         ;DECFSZ         z1,f
                      00251                                         ;GOTO                   $-1
                      00252                                         ;DECFSZ         z2,f
                      00253                                         ;GOTO                   $-3
                      00254                                         ;DECFSZ         z3,f
                      00255                                         ;GOTO                   $-5
004A   0008           00256                                         RETURN
                      00257 
                      00258 ;#######################################################################################################
                            ############################
                      00259 
                      00260 ;{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{  SUBRUTINA DE INTERR
                            UPCION }}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}
                      00261 
                      00262                 ; ============ guarda registros importantes =====================
                      00263 
004B   00AB           00264 SP_INTERRUPT    MOVWF   W_TEMP          ;Copy W to TEMP register                                        
                                                    ;codigo propuesto por hoja de especificaciones
004C   0E03           00265                                 SWAPF           STATUS,W                ;Swap status to be saved into W 
                                                                            ;codigo propuesto por hoja de especificaciones
004D   0183           00266                                 CLRF            STATUS          ;bank 0, regardless of current bank, Cle
                            ars IRP,RP1,RP0 ;codigo propuesto por hoja de especificaciones
004E   00A9           00267                                 MOVWF   STATUS_TEMP     ;Save status to bank zero STATUS_TEMP register  
                                            ;codigo propuesto por hoja de especificaciones
004F   080A           00268                                 MOVF            PCLATH, W               ;Only required if using page 1  
                                                                            ;codigo propuesto por hoja de especificaciones
0050   00AA           00269                                 MOVWF   PCLATH_TEMP     ;Save PCLATH into W                             
                                                                    ;codigo propuesto por hoja de especificaciones
0051   018A           00270                                 CLRF            PCLATH          ;Page zero, regardless of current page  
                                                            ;codigo propuesto por hoja de especificaciones
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00271 
                      00272                                 ; ============ inicia configuracion del set point
                      00273 
0052   01A4           00274                                 CLRF            UNI                             ;limpia los registros im
                            portantes
0053   01A5           00275                                 CLRF            DECE                    ;limpia reg
0054   3005           00276                                 MOVLW           B'0101'                 ;carga con 5 el registro W
0055   00A6           00277                                 MOVWF           SP                              ;mueve el reg W al regis
                            tro SP
0056   209D           00278                                 CALL            SENAL_SP                ; envia señal SP a los displays 
                            7 segmentos
0057   20BC           00279                                 CALL            un_segundo      ; retraso de medio segundo para visualiz
                            ar señal SP
                      00280 
                      00281                                 ;---------subrutina principal de la interrupcion del set poin  - monitor
                            ea si has presionado boton de unidades o de decenas ----------------------------
                      00282 
0058   1C86           00283 monitor_u               BTFSS           PORTB,1
0059   285B           00284                                 goto            monitor_d
005A   286D           00285                                 goto            config_u
                      00286 
005B   1D06           00287 monitor_d               BTFSS           PORTB,2
005C   285E           00288                                 goto            sigue_monitor
005D   287A           00289                                 goto            config_d
                      00290 
005E   2087           00291 sigue_monitor   call                    despliega_u
005F   2090           00292                                 call                    despliega_d
0060   20BC           00293 CONTINUA                call                    un_segundo
0061   20A2           00294                                 call                    envia_nada_al_display
0062   1103           00295                                 BCF             STATUS,2                                ;pone a cero bit
                             Z; por si anda por ahi activo.
0063   0BA6           00296                                 DECFSZ   SP,1                                   ;decrementa SP, si es ce
                            ro salta
0064   2858           00297                                 GOTO            monitor_u                               ;regresa a segui
                            r monitoreando las unidades
0065   20A7           00298                                 CALL            BCD_BINARIO                                             
                      00299 
                      00300                         ;               
                      00301                         ; ========== recuperacion de reg import =============
                      00302                 
0066   082A           00303                                 MOVF            PCLATH_TEMP,W           ;Restore PCLATH                 
                                                    ;codigo propuesto por hoja de especificaciones
0067   008A           00304                                 MOVWF   PCLATH                          ;Move W into PCLATH             
                                                    ;codigo propuesto por hoja de especificaciones
0068   0E29           00305                                 SWAPF           STATUS_TEMP,W           ;Swap STATUS_TEMP register into 
                            W       ;codigo propuesto por hoja de especificaciones
                      00306                                                                                                         
                            ;(sets bank to original state)                                  ;codigo propuesto por hoja de es
0069   0083           00307                                 MOVWF   STATUS                          ;Move W into STATUS register    
                                            ;codigo propuesto por hoja de especificaciones
006A   0EAB           00308                                 SWAPF           W_TEMP,F                                ;Swap W_TEMP    
                                                                    ;codigo propuesto por hoja de especificaciones
006B   0E2B           00309                                 SWAPF           W_TEMP,W                                ;Swap W_TEMP int
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                            o W                             ;codigo propuesto por hoja de especificaciones
                      00310 
006C   0009           00311                                 RETFIE                                                          ;regresa
                             de la interrupcion
                      00312 
                      00313 ;}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}} TERMINA SUBRUTINA DE INTERRU
                            PCION }}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}
                      00314                                                 
                      00315 ;************************************************************ SUBRUTINA PARA configurar unidades en el s
                            et point ************************************************************************************
                      00316 
006D   0AA4           00317 config_u                INCF            UNI,1                   ;incrementa el registro UNI, lo almacena
                             en UNI, afecta Z
                      00318 
                      00319                         ;----------------------verifica si es mayor a 9 --------------------------------
                            -----------------
                      00320 
006E   1103           00321                         BCF             STATUS,2                ;pone a cero bit Z
006F   3015           00322                         MOVLW           B'10101'                        ;carga registro W con 10 decimal
0070   0224           00323                         SUBWF           UNI,0                   ;(UNI)-(W)->(W), el resultado lo guarda 
                            en W, sin alterar UNI
0071   1D03           00324                         BTFSS           STATUS,2                ;verifica si el bit Z esta a 1, y salta
0072   2874           00325                         GOTO            SIGUE1                          
0073   2099           00326                         CALL            UNI_A_CERO
0074   3005           00327 SIGUE1          MOVLW           B'0101'                 ;carga con 5 el registro W
0075   00A6           00328                         MOVWF           SP                              ;mueve el reg W al registro SP
0076   2087           00329                         CALL            despliega_u             ;despliega el reg unidades en el display
                             7 segmentos
                      00330 
                      00331                 ;---------------verifica si el boton sigue presionado ----------------------------------
                            ------------            
                      00332 
0077   1C86           00333 LAZO1           BTFSS           PORTB,1         ;
0078   2860           00334                         goto            CONTINUA
0079   2877           00335                         goto            LAZO1
                      00336 
                      00337 ;************************************************************************* AQUI TERMINA DE CONFIGURAR UN
                            IDADES *********************************************************************
                      00338                         
                      00339 ;*********************************************************************** SUBRUTINA QUE CONFIGURA LAS DEC
                            ENAS ********************************************************************
                      00340 
007A   0AA5           00341 config_d                INCF            DECE,1                  ;incrementa el registro UNI, lo almacena
                             en UNI, afecta Z
                      00342 
                      00343                         ;------------------------------------ verifica si es mayor a 9 -----------------
                            --------------------------------
                      00344 
007B   1103           00345                         BCF             STATUS,2        ;pone a cero bit Z
007C   3015           00346                         MOVLW           B'10101'                ;carga registro W con 10 decimal
007D   0225           00347                         SUBWF           DECE,0          ;(UNI)-(W)->(W), el resultado lo guarda en W, si
                            n alterar UNI
007E   1D03           00348                         BTFSS           STATUS,2        ;verifica si el bit Z esta a 1, y salta
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

007F   2881           00349                         GOTO            SIGUE2                          
0080   209B           00350                         CALL            DECE_A_CERO
0081   3005           00351 SIGUE2          MOVLW           B'0101'         ;carga con 5 el registro W
0082   00A6           00352                         MOVWF           SP                      ;mueve el reg W al registro SP
0083   2090           00353                         CALL            despliega_d     ;despliega el reg unidades en el display 7 segme
                            ntos
                      00354 
                      00355                         ;---------------------------------  verifica si el boton sigue presionado ------
                            ----------------------------------------                
                      00356 
0084   1C86           00357 LAZO2           BTFSS           PORTB,1         ;
0085   2860           00358                         goto            CONTINUA
0086   2884           00359                         goto            LAZO2
                      00360 
                      00361 ;*********************************************************************** AQUI TERMINA DE CONFIGURAR LAS 
                            DECENAS ********************************************************************
                      00362 
                      00363 ;*********************************************************************** SUBRUTINA QUE DESPLIEGA LAS UNI
                            DADES EN DISPLAY 7 SEGMENTOS  ******************************************************************
                      00364         
0087   0824           00365 despliega_u     MOVF            UNI,0                                   ; mueve el contenido de UNI al r
                            egistro W
                      00366                                                                                         ; RA4,RA5,RA6,RA
                            7       UNIDADES
                      00367                                                                                         ; RB4,RB5,RB6,RB
                            7       DECENAS
0088   00A7           00368                         MOVWF           uni_comodin                     ; mueve W al registro unidades c
                            omodin
0089   0DA7           00369                         RLF             uni_comodin,1           ; rota a la izq. el registo uni_comodin 
                            y el resultado ponlo ahi mismo
008A   0DA7           00370                         RLF             uni_comodin,1
008B   0DA7           00371                         RLF             uni_comodin,1
008C   0DA7           00372                         RLF             uni_comodin,1   
                      00373 
008D   0827           00374                         MOVF            uni_comodin,0           ;mueve el contenido de uni_comodin al re
                            gistro W
008E   0085           00375                         MOVWF           PORTA                           ;mueve W al puerto A
008F   0008           00376                         RETURN  
                      00377 ;---------------------------------------------------------------------------------------------
                      00378 
                      00379 ;-------------- subrutina que despliega el registro DECE en el display de 7 segmentos ------------------
                            --
                      00380         
0090   0825           00381 despliega_d     MOVF            DECE,0                  ; mueve el contenido de UNI al registro W
                      00382                                                                                 ; RA4,RA5,RA6,RA7       
                            UNIDADES
                      00383                                                                                 ; RB4,RB5,RB6,RB7       
                            DECENAS
0091   00A8           00384                         MOVWF           dece_comodin    ; mueve W al registro unidades comodin
0092   0DA8           00385                         RLF             dece_comodin,1  ; rota a la izq. el registo dece_comodin y el re
                            sultado ponlo ahi mismo
0093   0DA8           00386                         RLF             dece_comodin,1
0094   0DA8           00387                         RLF             dece_comodin,1
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0095   0DA8           00388                         RLF             dece_comodin,1  
                      00389 
0096   0828           00390                         MOVF            dece_comodin,0  ;mueve el contenido de uni_comodin al registro W
0097   0086           00391                         MOVWF           PORTB                   ;mueve W al puerto B
0098   0008           00392                         RETURN  
                      00393 ;---------------------------------------------------------------------------------------------
                      00394 
                      00395 
                      00396 ;------------ subrutina que limpia el registro UNI -------------------------------------------
                      00397 
0099   01A4           00398 UNI_A_CERO              CLRF            UNI             ;pone a ceros registro UNI, Z es afectado.
009A   0008           00399                                         RETURN                  ;regresa al flujo del programa          
                      00400 ;---------------------------------------------------------------------------------------------
                      00401 
                      00402 ;------------- subrutina que limpia el registro DECE -----------------------------------------
                      00403 
009B   01A5           00404 DECE_A_CERO             CLRF            DECE            ;pone a ceros registro UNI, Z es afectado.
009C   0008           00405                                         RETURN                          ;regresa al flujo del programa  
                                    
                      00406 ;----------------------------------------------------------------------------------------------
                      00407 
                      00408 ;------------ subrutina para enviar señal SP al display ---------------------------
                      00409 
009D   3050           00410 SENAL_SP        MOVLW           B'01010000'             ; carga un 5, para mostrarlo como S
009E   0086           00411                         MOVWF           PORTB           ;mueve W al puerto B
                      00412 
009F   30E0           00413                         MOVLW           B'11100000'             ; carga un 14, para mostrar un E, al rev
                            es ja
00A0   0085           00414                         MOVWF           PORTA           ;mueve W al puerto A
                      00415 
00A1   0008           00416                         RETURN                  
                      00417 ;-------------------------------------------------------------------------------------------------------
                            ------------------------------------------------------------------------------------------------
                      00418 
                      00419 ;-------------------------------------Envia nada al display para hacer que parpadee la configuracion pue
                            sta---------------------------------------------------------------------------------------------
                      00420 
00A2   30F0           00421 envia_nada_al_display   MOVLW           B'11110000'                             ; carga un 15, para most
                            rar nada en el display
00A3   0086           00422                                                 MOVWF           PORTB                           ;mueve W
                             al puerto B
                      00423 
00A4   30F0           00424                                                 MOVLW           B'11110000'                             
                            ; carga un 15, para mostrar un E
00A5   0085           00425                                                 MOVWF           PORTA                           ;mueve W
                             al puerto A
                      00426 
00A6   0008           00427                                                 RETURN                  
                      00428 ;-------------------------------------------------------------------------------------------------------
                            ------------------------------------------------------------------------------------------------
                      00429 
                      00430 ;--------------- subrutina para convertir de BCD a BINARIO ----------------------------------------
                      00431 
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00A7   0825           00432 BCD_BINARIO     MOVF            DECE,0                          ; mueve el contenido de DECE al registro
                             W
00A8   00A8           00433                                 MOVWF           dece_comodin            ; mueve W al registro decenas co
                            modin                                   
00A9   0DA8           00434                                 RLF             dece_comodin,1          ; rota a la izq. el registo dece
                            _comodin y el resultado ponlo ahi mismo
00AA   0DA8           00435                                 RLF             dece_comodin,1          ; rota a la izq. el registo dece
                            _comodin y el resultado
00AB   0828           00436                                 MOVF                    dece_comodin,0                  ; mueve dece_com
                            odin al registro W
00AC   07A5           00437                                 ADDWF           DECE,1                          ; suma W+DECE, el result
                            ado almacenalo en DECE
00AD   0D25           00438                                 RLF             DECE,0                          ; rota a la izq. el regi
                            sto, el resultado ponlo en W
00AE   07A4           00439                                 ADDWF           UNI,1                           ; suma W+UNI, el resulta
                            do almacenalo en W
00AF   00AC           00440                                 MOVWF           BINARIO                         ; mueve W al registro BI
                            NARIO
00B0   0008           00441                                 RETURN                                          ; regresa de la Subrutin
                            a
                      00442 ;-------------------------------------------------------------------------------------------
                      00443 
                      00444 ;***************************************************************
                      00445 
00B1   3003           00446 retraso500ms            MOVLW                   D'3'
00B2   00A2           00447                                         MOVWF                   z3
00B3   3089           00448                                         MOVLW                   D'137'
00B4   00A1           00449                                         MOVWF                   z2
00B5   0BA0           00450                                         DECFSZ          z1,f
00B6   28B5           00451                                         GOTO                    $-1
00B7   0BA1           00452                                         DECFSZ          z2,f
00B8   28B5           00453                                         GOTO                    $-3
00B9   0BA2           00454                                         DECFSZ          z3,f
00BA   28B5           00455                                         GOTO                    $-5
00BB   0008           00456                                         RETURN
                      00457         
                      00458 ;########################################## SUBRUTINA DE UN SEGUNDO DE TIEMPO ##########################
                            #########################################################################################
                      00459 
00BC   3004           00460 un_segundo                      MOVLW           H'04'                                   ;mueve 4 al regi
                            stro contador   
00BD   00AF           00461                                         MOVWF           CONTADOR3                       ;mueve el conten
                            ido de W a contador3    
                      00462                                                                 
00BE   30FA           00463                                         MOVLW           H'FA'                                   ;mueve 2
                            55 al registro contador 
00BF   00AE           00464                                         MOVWF           CONTADOR2                       ;mueve el conten
                            ido de W a contador2    
                      00465                                                                 
00C0   30A6           00466                                         MOVLW           H'A6'                                   ;mueve A
                            6 al registro contador  MOVLW
00C1   00AD           00467                                         MOVWF           CONTADOR1                       ;mueve el conten
                            ido de W a contador1
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00468                                                                 
00C2   0BAF           00469 Has_4                           DECFSZ  CONTADOR3,1                             
00C3   28C5           00470                                         GOTO            Has_250                         
00C4   28CB           00471                                         GOTO            Sigue                           
                      00472                                                                 
00C5                  00473 Has_250                                                         
00C5   0BAE           00474                                         DECFSZ  CONTADOR2,1                             
00C6   28C8           00475                                         GOTO            Un_ms                           
00C7   28C2           00476                                         GOTO            Has_4                           
                      00477                                                                 
00C8   20CC           00478 Un_ms                           CALL            Medio_ms                        ;retraso ½ ms   (2)
00C9   20CC           00479                                         CALL            Medio_ms                        ;retraso ½ ms   
00CA   28C5           00480                                         GOTO            Has_250                         
                      00481                                                                 
00CB   0008           00482 Sigue                           RETURN                                          ; SALE DE LA SUBRUTINA D
                            E 1 SEGUNDO
                      00483 
                      00484 ;################################################ SUBRUTINA DE MEDIO MILISEGUNDO #######################
                            ###########################################################################                     
                      00485 
00CC                  00486 Medio_ms                                                                
00CC   0BAD           00487 ETIQUETA                        DECFSZ  CONTADOR1,1             ;drecrementa CONTADOR en una unidad,alma
                            cenalo en el mismo registro     LAZO
00CD   28CC           00488                                         GOTO            ETIQUETA                                ;y salta
                             si es zero.    
00CE   0008           00489                                         RETURN                                          
                      00490 
                      00491 ;#######################################################################################################
                            ############################    
00CF                  00492 BIN2BCD_RS3
00CF   01B0           00493                                 clrf                    BCDH
00D0   01B1           00494                                 clrf                    BCDL
                      00495 
00D1   3008           00496                                 movlw           0x08
00D2   00B3           00497                                 movwf           CUENTA
                      00498 
00D3                  00499 CONVERSION1
00D3   1003           00500                                 bcf                      STATUS,C
00D4   0DB4           00501                                 rlf                     BIN,f
00D5   0DB1           00502                                 rlf                     BCDL,f
00D6   0BB3           00503                                 decfsz                  CUENTA,f
00D7   28D9           00504                                 goto                    $+2
00D8   28E8           00505                                 goto                    TERMINA_CONVERSION
00D9   300F           00506                                 movlw           b'00001111'
00DA   0531           00507                                 andwf                   BCDL,w
00DB   00B2           00508                                 movwf           BCD_TEMP
00DC   3005           00509                                 movlw           0x05
00DD   0232           00510                                 subwf                   BCD_TEMP,w
00DE   1803           00511                                 btfsc                   STATUS,C
00DF   20E9           00512                                 call                    sum3nib_bajo
00E0   30F0           00513                                 movlw           b'11110000'
00E1   0531           00514                                 andwf                   BCDL,w
00E2   00B2           00515                                 movwf           BCD_TEMP
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00E3   3050           00516                                 movlw           0x50
00E4   0232           00517                                 subwf                    BCD_TEMP,w
00E5   1803           00518                                 btfsc                   STATUS,C
00E6   20EF           00519                                 call                    sum3nib_alto
00E7   28D3           00520                                 goto                    CONVERSION1
                      00521 
00E8                  00522 TERMINA_CONVERSION
00E8   0008           00523                                 return
                      00524                                 
                      00525                                 ;*******************************
                      00526                                 ;Subrutina que se encarga de
                      00527                                 ;sumar 3 al nibble bajo de BCDL
                      00528                                 ;*******************************
00E9                  00529 sum3nib_bajo
00E9   3003           00530                                 movlw           0x03
00EA   07B1           00531                                 addwf           BCDL,f
00EB   1C03           00532                                 btfss           STATUS,C
00EC   0008           00533                                 return
00ED   0DB0           00534                                 rlf                     BCDH,f
00EE   0008           00535                                 return
                      00536                                 
                      00537                                 ;*******************************
                      00538                                 ;Subrutina que se encarga de
                      00539                                 ;sumar 3 al nibble alto de BCDL
                      00540                                 ;*******************************
00EF                  00541 sum3nib_alto
00EF   3030           00542                                 movlw           0x30
00F0   07B1           00543                                 addwf           BCDL,f
00F1   1C03           00544                                 btfss           STATUS,C
00F2   0008           00545                                 return
00F3   0DB0           00546                                 rlf                     BCDH,f
00F4   0008           00547                                 return
                      00548 ;###################################################################
                      00549 ; movemos el registro BCDL al puerto B y el bit0 del registro BCDL al pin1 del puerto A
                      00550 
00F5   1283           00551 desplegar_bin_bcd       BCF             STATUS,RP0      ; cambio a banco 0 donde se encuentran PORTB y P
                            ORTA
                      00552 
00F6   0831           00553                                         MOVF            BCDL,0          ; mueve el reg BCDL al registro 
                            W
00F7   0086           00554                                         MOVWF           PORTB           ; mueve el registro W al PORTB
00F8   1C31           00555                                         BTFSS           BCDL,0          ; salta si hay un '1' en el bit0
                             del registro BCDL
00F9   28FC           00556                                         GOTO            pon_cero        ; salta a etiqueta SIGUE
00FA   1705           00557                                         BSF             PORTA,6 ; pon un '1' en el pin1 del PUERTO A
00FB   28FD           00558                                         GOTO            termina
00FC   1305           00559 pon_cero                        BCF             PORTA,6 ; pon un '0' en el pin1 del puerto A            
                                                    
00FD   0008           00560 termina                         RETURN                                  
                      00561                                                                 
                      00562 ;####################################################################
                      00563 ;################################ PARA QUE NO SE PIERDA AQUI ESTA EL FINAL DEL PROGRAMA ################
                            ################################################################################################
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE 16


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00564                                         END
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE 17


SYMBOL TABLE
  LABEL                             VALUE 

ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADCS2                             00000006
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
ANSEL                             0000009B
BCDH                              00000030
BCDL                              00000031
BCD_BINARIO                       000000A7
BCD_TEMP                          00000032
BF                                00000000
BIN                               00000034
BIN2BCD_RS3                       000000CF
BINARIO                           0000002C
BIN_comodin                       00000035
BRGH                              00000002
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CIS                               00000003
CKE                               00000006
CKP                               00000004
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             0000009C
CMIE                              00000006
CMIF                              00000006
CONTADOR1                         0000002D
CONTADOR2                         0000002E
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE 18


SYMBOL TABLE
  LABEL                             VALUE 

CONTADOR3                         0000002F
CONTINUA                          00000060
CONVERSION1                       000000D3
CREN                              00000004
CSRC                              00000007
CUENTA                            00000033
CVR0                              00000000
CVR1                              00000001
CVR2                              00000002
CVR3                              00000003
CVRCON                            0000009D
CVREN                             00000007
CVROE                             00000006
CVRR                              00000005
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
DECE                              00000025
DECE_A_CERO                       0000009B
D_A                               00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
ESP                               0000003F
ETIQUETA                          000000CC
F                                 00000001
FERR                              00000002
FREE                              00000004
FSR                               00000004
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
Has_250                           000000C5
Has_4                             000000C2
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
INDF                              00000000
INICIO                            00000005
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IOFS                              00000002
IRCF0                             00000004
IRCF1                             00000005
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE 19


SYMBOL TABLE
  LABEL                             VALUE 

IRCF2                             00000006
IRP                               00000007
LAZO1                             00000077
LAZO2                             00000084
Medio_ms                          000000CC
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OERR                              00000001
OPTION_REG                        00000081
OSCCON                            0000008F
OSCTUNE                           00000090
OSFIE                             00000007
OSFIF                             00000007
OSTS                              00000003
P                                 00000004
PCL                               00000002
PCLATH                            0000000A
PCLATH_TEMP                       0000002A
PCON                              0000008E
PEIE                              00000006
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
R                                 00000002
RBIE                              00000003
RBIF                              00000000
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE 20


SYMBOL TABLE
  LABEL                             VALUE 

RD                                00000000
READ_WRITE                        00000002
REG                               0000003D
RETRASO                           0000004A
RP0                               00000005
RP1                               00000006
RX9                               00000006
RX9D                              00000000
R_W                               00000002
S                                 00000003
SCS0                              00000000
SCS1                              00000001
SENAL_SP                          0000009D
SIGUE1                            00000074
SIGUE2                            00000081
SMP                               00000007
SP                                00000026
SPBRG                             00000099
SPEN                              00000007
SP_INTERRUPT                      0000004B
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
STATUS_TEMP                       00000029
SWDTE                             00000000
SWDTEN                            00000000
SYNC                              00000004
Sigue                             000000CB
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1RUN                             00000006
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TERMINA_CONVERSION                000000E8
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE 21


SYMBOL TABLE
  LABEL                             VALUE 

TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRMT                              00000001
TUN0                              00000000
TUN1                              00000001
TUN2                              00000002
TUN3                              00000003
TUN4                              00000004
TUN5                              00000005
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
UNI                               00000024
UNI_A_CERO                        00000099
Un_ms                             000000C8
VCFG0                             00000004
VCFG1                             00000005
W                                 00000000
WCOL                              00000007
WDTCON                            00000105
WDTPS0                            00000001
WDTPS1                            00000002
WDTPS2                            00000003
WDTPS3                            00000004
WR                                00000001
WREN                              00000002
WRERR                             00000003
W_TEMP                            0000002B
Z                                 00000002
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE 22


SYMBOL TABLE
  LABEL                             VALUE 

_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CCP1_RB0                         00003FFF
_CCP1_RB3                         00002FFF
_CONFIG1                          00002007
_CONFIG2                          00002008
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00001FFF
_CP_OFF                           00003FFF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_EXTCLK                           00003FEF
_EXTRC_CLKOUT                     00003FFF
_EXTRC_IO                         00003FFE
_FCMEN_OFF                        00003FFE
_FCMEN_ON                         00003FFF
_HS_OSC                           00003FEE
_IESO_OFF                         00003FFD
_IESO_ON                          00003FFF
_INTRC_CLKOUT                     00003FFD
_INTRC_IO                         00003FFC
_LP_OSC                           00003FEC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_MCLR_OFF                         00003FDF
_MCLR_ON                          00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_ENABLE_1024                  00003BFF
_WRT_ENABLE_512                   00003DFF
_WRT_ENABLE_OFF                   00003FFF
_XT_OSC                           00003FED
__16F88                           00000001
config_d                          0000007A
config_u                          0000006D
dece_comodin                      00000028
desplegar_bin_bcd                 000000F5
despliega_d                       00000090
despliega_u                       00000087
envia_nada_al_display             000000A2
monitor_d                         0000005B
monitor_u                         00000058
pon_cero                          000000FC
retraso500ms                      000000B1
sigue_monitor                     0000005E
sum3nib_alto                      000000EF
sum3nib_bajo                      000000E9
termina                           000000FD
un_segundo                        000000BC
uni_comodin                       00000027
MPASM 03.60 Released                         CTRL-DIFUSO3.ASM   7-11-2007  8:11:23         PAGE 23


SYMBOL TABLE
  LABEL                             VALUE 

z1                                00000020
z2                                00000021
z3                                00000022
z4                                00000023


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXX--

All other memory blocks unused.

Program Memory Words Used:   251
Program Memory Words Free:  3845


Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    12 reported,     0 suppressed

